<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²°ì œ ë‚´ì—­ - PharmChecker Admin</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    body { background-color: #f5f5f5; }
    .navbar { box-shadow: 0 2px 4px rgba(0,0,0,.08); }
    .sidebar {
      min-height: calc(100vh - 52px);
      background: white;
      border-right: 1px solid #dbdbdb;
      padding: 1.5rem 0;
    }
    .menu-label {
      padding: 0 1rem;
      text-transform: uppercase;
      font-size: 0.75rem;
      font-weight: 700;
      color: #7a7a7a;
    }
    .menu-list a {
      border-radius: 0;
      padding: 0.75rem 1.5rem;
    }
    .menu-list a.is-active {
      background-color: #3273dc;
      color: white;
    }
    .content-area { padding: 2rem; }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="navbar is-white" role="navigation">
    <div class="navbar-brand">
      <div class="navbar-item">
        <strong>ğŸ¥ PharmChecker - ê²°ì œ ë‚´ì—­</strong>
      </div>
    </div>
    
    <div class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            <i class="fas fa-user-shield"></i>
            <span id="adminName">ê´€ë¦¬ì</span>
          </a>
          <div class="navbar-dropdown is-right">
            <a class="navbar-item" onclick="logout()">
              <i class="fas fa-sign-out-alt"></i> ë¡œê·¸ì•„ì›ƒ
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="columns is-gapless">
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="column is-2 sidebar">
      <aside class="menu">
        <p class="menu-label">ë©”ì¸</p>
        <ul class="menu-list">
          <li><a href="/admin/dashboard">
            <i class="fas fa-home"></i> ëŒ€ì‹œë³´ë“œ
          </a></li>
        </ul>

        <p class="menu-label">êµ¬ë… ê´€ë¦¬</p>
        <ul class="menu-list">
          <li><a href="/admin/users">
            <i class="fas fa-users"></i> íšŒì› ê´€ë¦¬
          </a></li>
          <li><a href="/admin/mobile">
            <i class="fas fa-mobile-alt"></i> ëª¨ë°”ì¼ ì¡°íšŒ
          </a></li>
          <li><a href="/admin/subscriptions">
            <i class="fas fa-credit-card"></i> êµ¬ë… í˜„í™©
          </a></li>
          <li><a class="is-active" href="/admin/payments">
            <i class="fas fa-receipt"></i> ê²°ì œ ë‚´ì—­
          </a></li>
        </ul>

        <p class="menu-label">ê³ ê° ë¬¸ì˜ ê´€ë¦¬</p>
        <ul class="menu-list">
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-headset"></i> ë¬¸ì˜ ê´€ë¦¬
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-desktop"></i> ì›ê²© ì§€ì› ê´€ë¦¬
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-question-circle"></i> FAQ ê´€ë¦¬
          </a></li>
        </ul>

        <p class="menu-label">í”„ë¡œëª¨ì…˜</p>
        <ul class="menu-list">
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-gift"></i> í”„ë¡œëª¨ì…˜ ê´€ë¦¬
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-ticket-alt"></i> ì¶”ì²œì¸ ì½”ë“œ
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-user-tag"></i> í”„ë¡œëª¨ì…˜ í• ë‹¹
          </a></li>
        </ul>

        <p class="menu-label">ì‹œìŠ¤í…œ</p>
        <ul class="menu-list">
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-layer-group"></i> í”Œëœ ê´€ë¦¬
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-history"></i> í™œë™ ë¡œê·¸
          </a></li>
          <li><a onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')">
            <i class="fas fa-cog"></i> ì„¤ì •
          </a></li>
        </ul>
      </aside>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <div class="column content-area">
    <div class="container is-fluid">
      <div class="level">
        <div class="level-left">
          <div class="level-item">
            <h1 class="title">ê²°ì œ ë‚´ì—­</h1>
          </div>
        </div>
        <div class="level-right">
          <div class="level-item">
            <a href="/admin" class="button is-light">
              <i class="fas fa-arrow-left"></i>&nbsp; ëŒ€ì‹œë³´ë“œ
            </a>
          </div>
        </div>
      </div>

      <!-- ê²€ìƒ‰ í•„í„° -->
      <div class="box">
        <div class="columns is-multiline">
          <div class="column is-3">
            <div class="field">
              <label class="label">ì•½êµ­ëª…</label>
              <div class="control">
                <input class="input" type="text" id="pharmacyNameSearch" placeholder="ì•½êµ­ëª… ê²€ìƒ‰">
              </div>
            </div>
          </div>
          <div class="column is-3">
            <div class="field">
              <label class="label">ì•½ì‚¬ëª…</label>
              <div class="control">
                <input class="input" type="text" id="pharmacistNameSearch" placeholder="ì•½ì‚¬ëª… ê²€ìƒ‰">
              </div>
            </div>
          </div>
          <div class="column is-2">
            <div class="field">
              <label class="label">ê²°ì œ ìƒíƒœ</label>
              <div class="control">
                <div class="select is-fullwidth">
                  <select id="statusFilter">
                    <option value="">ì „ì²´</option>
                    <option value="success">ì„±ê³µ</option>
                    <option value="failed">ì‹¤íŒ¨</option>
                    <option value="canceled">ì·¨ì†Œ</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="column is-2">
            <div class="field">
              <label class="label">ì‹œì‘ì¼</label>
              <div class="control">
                <input class="input" type="date" id="startDateSearch">
              </div>
            </div>
          </div>
          <div class="column is-2">
            <div class="field">
              <label class="label">ì¢…ë£Œì¼</label>
              <div class="control">
                <input class="input" type="date" id="endDateSearch">
              </div>
            </div>
          </div>
          <div class="column is-6 is-offset-6">
            <div class="field is-grouped is-grouped-right">
              <div class="control">
                <button class="button is-primary" id="searchBtn">
                  <i class="fas fa-search"></i>&nbsp; ê²€ìƒ‰
                </button>
              </div>
              <div class="control">
                <button class="button is-light" id="resetBtn">
                  <i class="fas fa-redo"></i>&nbsp; ì´ˆê¸°í™”
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ê²°ì œ ëª©ë¡ -->
      <div class="box">
        <div class="table-container">
          <table class="table is-fullwidth is-striped is-hoverable">
            <thead>
              <tr>
                <th style="width: 60px;">No.</th>
                <th>ì•½êµ­ëª…</th>
                <th>ì•½ì‚¬ëª…</th>
                <th>ì´ë©”ì¼</th>
                <th>ì£¼ë¬¸ë²ˆí˜¸</th>
                <th>ê²°ì œê¸ˆì•¡</th>
                <th>ê²°ì œìƒíƒœ</th>
                <th>ìš”ì²­ì¼ì‹œ</th>
                <th>ìŠ¹ì¸ì¼ì‹œ</th>
                <th>ì‹¤íŒ¨ì‚¬ìœ </th>
              </tr>
            </thead>
            <tbody id="paymentList">
              <tr>
                <td colspan="10" class="has-text-centered">
                  <i class="fas fa-spinner fa-pulse"></i> ë¡œë”© ì¤‘...
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <nav class="pagination is-centered" role="navigation" id="pagination">
        </nav>
      </div>
    </div>
  </div>

  <script src="/js/admin-payments.js"></script>
</body>
</html>
